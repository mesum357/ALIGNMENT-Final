const ringsLottie=lottie.loadAnimation({container:document.getElementById("rings"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/RocketRing.json"}),boosterLottieFile1=lottie.loadAnimation({container:document.getElementById("booster"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/booster-open-from-lotus-flower.json"}),rocketAnimation=document.querySelector(".rocket-img div"),reverseImg=document.querySelector(".reverse-img img");function initSectionTransitions(){const e={sec1File1:document.querySelector(".sec-1-file1"),sec1File2:document.querySelector(".sec-1-file2"),sec2File2:document.querySelector(".sec-2-file2")};rocketAnimation&&rocketAnimation.addEventListener("animationend",(()=>{handleRocketAnimationEnd(e)})),e.sec1File1&&e.sec1File1.addEventListener("transitionend",(t=>{"opacity"===t.propertyName&&"0"===e.sec1File1.style.opacity&&(e.sec1File1.style.display="none",e.sec1File2&&(e.sec1File2.style.display="flex",e.sec1File2.style.opacity="1",setTimeout((()=>{e.sec1File2.style.opacity="0"}),8e3)))})),e.sec1File2&&e.sec1File2.addEventListener("transitionend",(t=>{"opacity"===t.propertyName&&"0"===e.sec1File2.style.opacity&&(e.sec1File2.style.display="none",e.sec2File2&&(e.sec2File2.style.display="block",e.sec2File2.classList.add("visibility"),setTimeout((()=>{setTimeout((()=>{e.sec2File2.style.opacity="1";const t=document.querySelector(".sec-2-text-file2 img"),o=document.getElementById("Focus");t&&setTimeout((()=>{t.classList.add("fade-in"),o&&setTimeout((()=>{o.classList.add("visible");const e=o.querySelector(".white-div-file2");e&&e.classList.add("Blink");let t=2e3;["Focus2","Focus3","Focus1","Focus4","Focus5"].forEach((e=>{setTimeout((()=>{const t=document.getElementById(e);if(t){t.classList.add("visible");const e=t.querySelector(".white-div-file2");e&&e.classList.add("Blink")}}),t),t+=2e3}))}),3e3)}),2e3)}),100)}),100)))}))}function handleRocketAnimationEnd(e){const t=document.getElementById("ring2");t&&setTimeout((()=>{t.style.opacity="1",t.style.transition="opacity 1s ease-in-out",t.style.transform="rotate(-60deg)"}),4500),setTimeout((()=>{["rings","ring2","white","white2","white3","white4"].forEach((e=>{const t=document.getElementById(e);t&&(t.style.opacity="0",t.style.transition="opacity 2s ease-out")}))}),4500),e.sec1File1&&setTimeout((()=>{e.sec1File1.style.opacity="0",e.sec1File1.style.transition="opacity 2s ease-out",setTimeout((()=>{["rings","ring2","reverse-img"].forEach((e=>{const t=document.getElementById(e);t&&(t.style.display="none")}))}),2e3)}),5e3)}const FocusLottie=lottie.loadAnimation({container:document.getElementById("Focus"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/Focus-Wheel.json"}),Focus1Lottie=lottie.loadAnimation({container:document.getElementById("Focus1"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/magnet.json"}),Focus2Lottie=lottie.loadAnimation({container:document.getElementById("Focus2"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/fast deactivation.json"}),Focus3Lottie=lottie.loadAnimation({container:document.getElementById("Focus3"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/water fall.json"}),Baloon=lottie.loadAnimation({container:document.getElementById("thank-img"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/thanks.json"});function initModals(){const e=document.querySelectorAll(".modal-trigger"),t=document.querySelectorAll(".modal"),o=document.querySelectorAll(".modal .close-btn");document.querySelector(".close-btn-thanks");function i(e){e&&(e.classList.remove("show"),document.body.style.overflow="")}e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-modal");t&&function(e){const t=document.getElementById(e);t&&(t.classList.add("show"),document.body.style.overflow="hidden",t.querySelector(".slider")&&initSlider(t),t.dispatchEvent(new Event("modal:open")))}(t)}))})),o.forEach((e=>{e.addEventListener("click",(()=>{i(e.closest(".modal"))}))})),t.forEach((e=>{e.addEventListener("click",(t=>{t.target===e&&i(e)}))}))}function initSlider(e){const t=e.querySelector(".slider");if(!t)return;const o=t.querySelector(".slides-container"),i=t.querySelectorAll(".slide"),n=t.querySelector(".prev-btn"),s=t.querySelector(".next-btn"),l=e.querySelector(".dots"),c=l?l.querySelectorAll(".dot"):[];if(!o||0===i.length)return;let r=0;function a(e){r=e<0?i.length-1:e>=i.length?0:e;o.style.transform="translateX(0%)",c.forEach(((e,t)=>{t===r?e.classList.add("active"):e.classList.remove("active")})),n&&(n.style.visibility=r>0?"visible":"hidden"),s&&(s.style.visibility=r<i.length-1?"visible":"hidden")}n&&n.addEventListener("click",(()=>{a(0===r?i.length-1:r-1)})),s&&s.addEventListener("click",(()=>{r===i.length-1&&a(0)})),c.forEach(((e,t)=>{e.addEventListener("click",(()=>{a(t)}))}))}function resetModalSlides(e){const t=document.getElementById(e);if(!t)return;const o=t.querySelectorAll(".slide"),i=t.querySelectorAll(".dot");o.forEach(((e,t)=>{0===t?e.classList.add("active"):e.classList.remove("active")})),i.forEach(((e,t)=>{0===t?e.classList.add("active"):e.classList.remove("active")}))}function loadWhiteStars(e,t){t.forEach((t=>{const o=document.getElementById(`white-${e}-${t}`);o&&lottie.loadAnimation({container:o,renderer:"svg",loop:!0,autoplay:!0,path:"../json/white-Stars-Burst.json"})}))}document.querySelectorAll(".modal-trigger").forEach((e=>{e.addEventListener("click",(function(){resetModalSlides(this.getAttribute("data-modal"))}))})),document.addEventListener("DOMContentLoaded",(()=>{initSectionTransitions();document.querySelectorAll(".sec-1-images-file1 img").forEach((e=>{e.addEventListener("animationend",(function(){setTimeout((()=>e.classList.add("fade-out")),1500)}))}));lottie.loadAnimation({container:document.getElementById("ring2"),renderer:"svg",loop:!0,autoplay:!0,path:"../json/RocketRing.json"});["white","white2","white3","white4"].forEach((e=>{const t=document.getElementById(e);t&&lottie.loadAnimation({container:t,renderer:"svg",loop:!0,autoplay:!0,path:"../json/white-Stars-Burst.json"})})),["F0","F1","F2","F3","F4","F5"].forEach((e=>{loadWhiteStars(e,["1","2","3","4"])})),initModals();const e=document.querySelector(".sticky-rocket-img"),t=document.querySelector(".sticky-rocket-video"),o=document.querySelector(".sticky-rocket-videoTwo"),i=document.querySelector(".BgVideoRocket"),n=i=>{[e,t,o].forEach((e=>e.classList.remove("show-rocket"))),i&&i.classList.add("show-rocket")};if(i){new IntersectionObserver((([i])=>{if(i.isIntersecting&&t)n(t);else{i.boundingClientRect.top>0&&o?n(o):e&&n(e)}}),{threshold:.3}).observe(i)}}));